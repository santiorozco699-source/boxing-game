using UnityEngine;

public class PlayerController : MonoBehaviour
{
    public float moveSpeed = 5f;
    public Animator animator;
    public int maxHealth = 100;
    public int currentHealth;

    void Start()
    {
        currentHealth = maxHealth;
    }

    void Update()
    {
        // Player Movement
        float h = Input.GetAxis("Horizontal");
        float v = Input.GetAxis("Vertical");
        Vector3 move = new Vector3(h, 0, v);
        transform.Translate(move * moveSpeed * Time.deltaTime, Space.World);

        // Animation
        if (move.magnitude > 0)
            animator.SetBool("isWalking", true);
        else
            animator.SetBool("isWalking", false);

        // Punches
        if (Input.GetKeyDown(KeyCode.J))
            animator.SetTrigger("Jab");
        if (Input.GetKeyDown(KeyCode.K))
            animator.SetTrigger("Cross");
        if (Input.GetKeyDown(KeyCode.L))
            animator.SetTrigger("Hook");
    }

    // Damage system
    public void TakeDamage(int damage)
    {
        currentHealth -= damage;
        if (currentHealth <= 0)
        {
            currentHealth = 0;
            animator.SetTrigger("Knockout");
            Debug.Log("Player is knocked out!");
        }
    }
}

